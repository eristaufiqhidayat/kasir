function index() {
	//alert(getSummary);
	let laporan_penjualan = $("#laporan_penjualan").DataTable({
		responsive: !0,
		scrollX: !0,
		ajax: readUrl,
		columnDefs: [{ searcable: !1, orderable: !1, targets: 0 }],
		order: [[1, "asc"]],
		columns: [
			{ data: null },
			{ data: "tanggal" },
			{ data: "nama_produk" },
			{ data: "total_bayar" },
			{ data: "jumlah_uang" },
			{ data: "diskon" },
			{ data: "pelanggan" },
			{ data: "action" },
		],
	});
	laporan_penjualan.on("order.dt search.dt", () => {
		laporan_penjualan
			.column(0, { search: "applied", order: "applied" })
			.nodes()
			.each((a, e) => {
				a.innerHTML = e + 1;
			});
	}),
		$(".modal").on("hidden.bs.modal", () => {
			$("#form")[0].reset(), $("#form").validate().resetForm();
		});
	$("#resume_penjualan").DataTable({
		bProcessing: true,
		sAutoWidth: false,
		bDestroy: true,
		sPaginationType: "bootstrap", // full_numbers
		"iDisplayStart ": 10,
		iDisplayLength: 10,
		bPaginate: false, //hide pagination
		bFilter: false, //hide Search bar
		bInfo: false, // hide showing entries
		ajax: getSummary,
		columnDefs: [
			{
				targets: 1,
				render: $.fn.dataTable.render.number(".", ".", 0, ""),
			},
		],
		columns: [{ data: "jmltransaksi" }, { data: "rptransaksi" }],
	});
}

function changeDate() {
	$("#laporan_penjualan").DataTable().clear().destroy();
	let laporan_penjualan = $("#laporan_penjualan").DataTable({
		responsive: !0,
		scrollX: !0,
		type: "get",
		ajax: readUrl + "?tanggal2=" + $("#tanggal").val(),
		columnDefs: [{ searcable: !1, orderable: !1, targets: 0 }],
		order: [[1, "asc"]],
		columns: [
			{ data: null },
			{ data: "tanggal" },
			{ data: "nama_produk" },
			{ data: "total_bayar" },
			{ data: "jumlah_uang" },
			{ data: "diskon" },
			{ data: "pelanggan" },
			{ data: "action" },
		],
	});
	laporan_penjualan.on("order.dt search.dt", () => {
		laporan_penjualan
			.column(0, { search: "applied", order: "applied" })
			.nodes()
			.each((a, e) => {
				a.innerHTML = e + 1;
			});
	}),
		$(".modal").on("hidden.bs.modal", () => {
			$("#form")[0].reset(), $("#form").validate().resetForm();
		});
	$("#resume_penjualan").DataTable({
		bProcessing: true,
		sAutoWidth: false,
		bDestroy: true,
		sPaginationType: "bootstrap", // full_numbers
		"iDisplayStart ": 10,
		iDisplayLength: 10,
		bPaginate: false, //hide pagination
		bFilter: false, //hide Search bar
		bInfo: false, // hide showing entries
		ajax: getSummary + "?tanggal2=" + $("#tanggal").val(),
		columnDefs: [
			{
				targets: 1,
				render: $.fn.dataTable.render.number(".", ".", 0, ""),
			},
		],
		columns: [{ data: "jmltransaksi" }, { data: "rptransaksi" }],
	});
}
function reloadTable() {
	laporan_penjualan.ajax.reload();
}
function remove(a) {
	Swal.fire({
		title: "Hapus",
		text: "Hapus data ini?",
		type: "warning",
		showCancelButton: !0,
	}).then(() => {
		$.ajax({
			url: deleteUrl,
			type: "post",
			dataType: "json",
			data: { id: a },
			success: () => {
				Swal.fire("Sukses", "Sukses Menghapus Data", "success"), reloadTable();
			},
			error: (a) => {
				console.log(a);
			},
		});
	});
}
$(document).ready(function () {
	index();
});
